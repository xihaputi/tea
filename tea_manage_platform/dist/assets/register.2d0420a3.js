import{_ as a,r as s}from"./index.e41e9f95.js";import{u as e,e as l,f as o,r as n,o as r,i as u,j as d,a as c,w as t,l as i,E as m}from"./vendor.da7b8729.js";const p={class:"login-container"},f={class:"login-card animate-up"},w={class:"footer-links"},g={__name:"register",setup(g){const V=e(),h=l(!1),_=o({username:"",name:"",password:"",confirmPassword:""}),v=async()=>{if(!_.username||!_.password||!_.name)return m.warning("请填写完整信息");if(_.password!==_.confirmPassword)return m.warning("两次输入的密码不一致");h.value=!0;try{const a=await s({username:_.username,password:_.password,name:_.name});a&&a.success&&(m.success("注册成功"),V.push("/login"))}catch(a){console.error(a)}finally{h.value=!1}};return(s,e)=>{const l=n("el-input"),o=n("el-form-item"),m=n("el-button"),g=n("el-form");return r(),u("div",p,[e[7]||(e[7]=d("div",{class:"bg-layer"},null,-1)),d("div",f,[e[6]||(e[6]=d("div",{class:"header"},[d("img",{src:a,alt:"Logo",class:"logo-img"}),d("h1",{class:"app-name"},"茶智云"),d("p",{class:"app-slogan"},"注册账号")],-1)),c(g,{class:"login-form"},{default:t((()=>[c(o,null,{default:t((()=>[c(l,{modelValue:_.username,"onUpdate:modelValue":e[0]||(e[0]=a=>_.username=a),placeholder:"账号 (必填)","prefix-icon":"User",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(o,null,{default:t((()=>[c(l,{modelValue:_.name,"onUpdate:modelValue":e[1]||(e[1]=a=>_.name=a),placeholder:"姓名 (必填)","prefix-icon":"Postcard",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(o,null,{default:t((()=>[c(l,{modelValue:_.password,"onUpdate:modelValue":e[2]||(e[2]=a=>_.password=a),type:"password",placeholder:"密码 (必填)","prefix-icon":"Lock","show-password":"",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(o,null,{default:t((()=>[c(l,{modelValue:_.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>_.confirmPassword=a),type:"password",placeholder:"确认密码 (必填)","prefix-icon":"Lock","show-password":"",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(m,{type:"primary",class:"login-btn",loading:h.value,onClick:v},{default:t((()=>[...e[5]||(e[5]=[i(" 注册 ",-1)])])),_:1},8,["loading"]),d("div",w,[d("span",{class:"link-text",onClick:e[4]||(e[4]=a=>s.$router.push("/login"))},"返回登录")])])),_:1})])])}},__scopeId:"data-v-50719947"};export{g as default};
