import{_ as s,a}from"./index.e41e9f95.js";import{u as e,e as l,f as o,r as n,o as r,i as u,j as d,a as c,w as i,l as t,E as m}from"./vendor.da7b8729.js";const p={class:"login-container"},w={class:"login-card animate-up"},f={class:"footer-links"},g={__name:"forget",setup(g){const P=e(),h=l(!1),v=o({username:"",newPassword:"",confirmPassword:""}),_=async()=>{if(!v.username||!v.newPassword)return m.warning("请填写完整信息");if(v.newPassword!==v.confirmPassword)return m.warning("两次输入的密码不一致");h.value=!0;try{const s=await a({username:v.username,newPassword:v.newPassword});s&&s.success&&(m.success("密码重置成功，请重新登录"),P.push("/login"))}catch(s){console.error(s)}finally{h.value=!1}};return(a,e)=>{const l=n("el-input"),o=n("el-form-item"),m=n("el-button"),g=n("el-form");return r(),u("div",p,[e[6]||(e[6]=d("div",{class:"bg-layer"},null,-1)),d("div",w,[e[5]||(e[5]=d("div",{class:"header"},[d("img",{src:s,alt:"Logo",class:"logo-img"}),d("h1",{class:"app-name"},"茶智云"),d("p",{class:"app-slogan"},"重置密码")],-1)),c(g,{class:"login-form"},{default:i((()=>[c(o,null,{default:i((()=>[c(l,{modelValue:v.username,"onUpdate:modelValue":e[0]||(e[0]=s=>v.username=s),placeholder:"请输入账号","prefix-icon":"User",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(o,null,{default:i((()=>[c(l,{modelValue:v.newPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>v.newPassword=s),type:"password",placeholder:"新密码","prefix-icon":"Lock","show-password":"",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(o,null,{default:i((()=>[c(l,{modelValue:v.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>v.confirmPassword=s),type:"password",placeholder:"确认新密码","prefix-icon":"Lock","show-password":"",class:"custom-input"},null,8,["modelValue"])])),_:1}),c(m,{type:"primary",class:"login-btn",loading:h.value,onClick:_},{default:i((()=>[...e[4]||(e[4]=[t(" 确认重置 ",-1)])])),_:1},8,["loading"]),d("div",f,[d("span",{class:"link-text",onClick:e[3]||(e[3]=s=>a.$router.push("/login"))},"返回登录")])])),_:1})])])}},__scopeId:"data-v-03f741bb"};export{g as default};
